<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/3.3.1.tailwind.js"></script>
    <script defer src="js/alpine.min.js"></script>
    

    <title>PMT</title>
</head>
<body x-data="pmtIni()">
    <div class="bg-gray-400 p-3 flex justify-between">
        <div class="mb-4">
          <label for="tax" class="block text-gray-700 text-sm font-bold mb-2">Taxa %:</label>
          <input
            type="number"
            id="tax"
            x-model="tax"
            class="border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            placeholder="1.99"
          >
        </div>
        
        <div class="mb-4">
          <label for="months" class="block text-gray-700 text-sm font-bold mb-2">Meses:</label>
          <input
            type="number"
            id="months"
            x-model="months"
            class="border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            placeholder="10"
          >
        </div>
        
        <div class="mb-4">
          <label for="loan" class="block text-gray-700 text-sm font-bold mb-2">Valor:</label>
          <input
            type="number"
            id="loan"
            x-model="loan"
            class="border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            placeholder="100"
          >
        </div>
        
        <div class="mb-4">
          <label for="pmt" class="block text-gray-700 text-sm font-bold mb-2">PMT:</label>
          <div class="bg-green-100 border border-green-400 text-green-700 font-semibold py-2 px-4 rounded" x-text="pmt">
          </div>
        </div>

        <div class="mb-4">
          <label for="finalValue" class="block text-gray-700 text-sm font-bold mb-2">Total:</label>
          <div class="bg-green-100 border border-green-400 text-green-700 font-semibold py-2 px-4 rounded" x-text="pmt">
          </div>
        </div>

        <div class="mb-4">
          <label for="decimals" class="block text-gray-700 text-sm font-bold mb-2">Decimais:</label>
          <input
            type="number"
            id="decimals"
            x-model="decimals"
            class="border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            placeholder="100"
          >
        </div>


        <button x-on:click="gerarPreview" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Gerar</button>
      </div>
    </div>

    <div class="overflow-x-auto  margin-x-auto">
      <table class="min-w-full border-collapse">
        <thead>
          <tr>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase bg-gray-100 border-b border-gray-200">Meses</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase bg-gray-100 border-b border-gray-200">Pagou</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase bg-gray-100 border-b border-gray-200">Tem que pagar</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase bg-gray-100 border-b border-gray-200">Soma juros</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase bg-gray-100 border-b border-gray-200">Valor a pagar com juros</th>
          </tr>
        </thead>
        <tbody>
          <template x-for="data in gerarPreview" :key="data.mes">
            <tr>
              <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200" x-text="data.mes"></td>
              <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200" x-text="data.pagou"></td>
              <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200" x-text="data.tem_que_pagar"></td>
              <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200" x-text="`Soma juros de ${tax}%`"></td>
              <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200" x-text="data.tem_que_pagar_com_juros"></td>
            </tr>
          </template>
          
        </tbody>
      </table>
    </div>    

    <script src="js/pmt.js"></script>
</body>
</html>